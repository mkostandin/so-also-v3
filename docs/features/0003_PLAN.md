# Feature Plan: Sleek List View time/address and Event Detail share/directions (no emojis)

## Overview
User request: “in the list view it only display hh:mm and should have address under the venue. then in event details it should have buttons for full sharing capabilitys and directions to open up other app or something. there shouldn’t be any emojis. i want it to look sleek.”

## Current State
- ui/src/routes/ListView.tsx
  - Time shown with full `toLocaleString()` (date and time)
  - Address line rendered with a leading emoji
  - A subtle “Tap for details →” hint
  - Distance chip displayed in miles
- ui/src/routes/EventDetail.tsx
  - No dedicated Share or Directions buttons
  - Section headings and link buttons include emojis
  - Back button copy has duplicate wording

## Required Changes

### A) List View: time-only and address under venue (no emojis)
File: ui/src/routes/ListView.tsx
- Replace full datetime with time-only hh:mm using Intl.DateTimeFormat with `{ hour: '2-digit', minute: '2-digit' }` in the user’s locale.
- Render address directly beneath the event name; remove the leading emoji.
- Remove the “Tap for details →” hint for a cleaner, sleeker look.
- Keep the distance pill; ensure miles are retained.

Considerations:
- If both `address` and `city/stateProv` are present, show `address` as primary; optionally append `city, stateProv` on a second subdued line if needed for clarity.

### B) Event Detail: share and directions; remove emojis; sleek styling
File: ui/src/routes/EventDetail.tsx
- Remove emojis from headings and buttons. Headings become “Date & Time”, “Location”, “Links”.
- Add top action buttons:
  1) Share: Use Web Share API when available; fallback copies the deep link to clipboard and shows a light inline confirmation.
     - Shared data: `title` = event name; `text` = optional description; `url` = absolute URL to `/app/e/:id`.
  2) Get Directions: Open maps with destination prefilled.
     - If `latitude` & `longitude`: use Google Maps directions URL with `destination=<lat>,<lng>`.
     - Else if `address`: use Google Maps search URL with `query=<encoded address>`.
     - Keep a single “Get Directions” button (Google Maps web works cross-platform). Add Apple Maps as a future enhancement if desired.
- Clean up back button copy (no arrows, no duplicates). Maintain consistent Tailwind button styling.
- Remove emoji from any remaining content (e.g., distance label) and keep distances in miles.

Optional helper:
- ui/src/lib/share.ts: small helper exposing `shareOrCopy({ title, text, url })` handling `navigator.share` and clipboard fallback.

### C) Optional consistency polish (not required for this feature)
- ui/src/components/MapboxMap.tsx: Popup currently shows km; consider switching to miles and removing emojis to align with list/detail views.

## Behavioral Details
- Time formatting: use `Intl.DateTimeFormat(undefined, { hour: '2-digit', minute: '2-digit' })` for local hh:mm; do not display the date in the list view.
- Share fallback: try `navigator.share` → fallback to `navigator.clipboard.writeText(url)` → if clipboard blocked, present the URL in a minimal dialog for manual copy.
- Directions link building:
  - With coordinates: `https://www.google.com/maps/dir/?api=1&destination=<lat>,<lng>`.
  - With address only: `https://www.google.com/maps/search/?api=1&query=<encoded address>`.
  - Always `encodeURIComponent` user-provided strings.

## Files to Update / Create
- Update: ui/src/routes/ListView.tsx
- Update: ui/src/routes/EventDetail.tsx
- Optional New: ui/src/lib/share.ts (helper for share/copy)

## Test Plan
- List view shows only hh:mm for the event start time; address appears under the venue; no emojis; distance chip remains in miles.
- Event detail shows “Share” and “Get Directions” buttons at the top; share invokes native sheet or copies the link with confirmation; directions opens Google Maps with the event destination; no emojis anywhere on the page.
- Verify on Windows desktop (Chrome/Edge) and mobile browsers where possible; confirm miles are consistently used.
