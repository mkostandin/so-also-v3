# Feature 0048: Mapbox Component Height and Corner Styling

## Brief Description
Fix Mapbox component to extend to bottom tabs with responsive corners and 8px margins.

## Technical Requirements

### Current Implementation Analysis
- **MapboxMap.tsx**: Main map component with `className="h-full w-full rounded-lg relative"` on the map container div (line 400)
- **MapView.tsx**: Route wrapper with `className="mx-auto max-w-full sm:max-w-2xl md:max-w-3xl lg:max-w-4xl h-full flex flex-col min-h-0"` (line 217)
- **MapIndex.tsx**: Parent layout with `className="flex flex-col h-full"` main container (line 245)

### Files Modified

#### 1. ui/src/components/MapboxMap.tsx
- **Current**: `className="h-full w-full rounded-lg relative"`
- **Change**: `className="h-full w-full rounded-none md:rounded-lg relative"`
- **Result**: No rounded corners on mobile, rounded corners on desktop (md+)

#### 2. ui/src/routes/MapView.tsx
- **Current**: `h-full flex flex-col min-h-0`
- **Change**: `h-[calc(100vh-120px)] flex flex-col`
- **Result**: Precise height calculation accounting for header and bottom tabs

#### 3. ui/src/routes/MapIndex.tsx
- **Current**: `flex flex-col h-full`
- **Change**: `flex flex-col h-screen`
- **Result**: Full screen height utilization

### Implementation Details

#### Responsive Corner Styling ✅
1. Removed universal `rounded-lg` from MapboxMap.tsx
2. Added responsive classes: `rounded-none md:rounded-lg`
3. Applied 8px margins: `mt-2 mb-2` to map container in MapView.tsx

#### Height Optimization ✅
1. Updated MapIndex.tsx to use `h-screen` for full viewport height
2. Removed `min-h-0` constraints that prevented proper height inheritance
3. Used `h-[calc(100vh-120px)]` for precise height accounting for header (~70px) and bottom tabs (~50px)
4. Ensured flex layout works: filters (`flex-shrink-0`) + map (`flex-1`)

### Responsive Design Implementation
- **Mobile**: No rounded corners, extends to bottom tabs, 8px margins
- **Desktop**: Rounded corners (md+), extends to bottom tabs, 8px margins
- **Layout**: Flex-based with precise viewport calculations

### Final Layout Structure
1. **MapIndex**: `h-screen` - full viewport height
2. **Header**: Natural height (sticky navigation)
3. **Content area**: `flex-1 pb-24` - remaining space with bottom padding
4. **MapView**: `h-[calc(100vh-120px)]` - precise available height
5. **Filters**: `flex-shrink-0` - natural height
6. **Map container**: `flex-1 mt-2 mb-2` - remaining space with margins
7. **MapboxMap**: `h-full w-full rounded-none md:rounded-lg` - fills container with responsive corners

### Testing Results ✅
- Map extends to bottom tabs (not full device height)
- Rounded corners only on desktop (md and above)
- 8px margins applied consistently
- Responsive behavior across all breakpoints
- Proper flex layout maintained
