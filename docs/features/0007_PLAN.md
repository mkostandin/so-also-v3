# Interactive Map Markers with Event Previews

## Problem Description
Map markers are not clickable and lack visual information. Users cannot easily identify events on the map or access event details without navigating to the list view.

## Current State Analysis
The MapboxMap component currently has:
- Basic circular markers for events
- Click handlers that show simple HTML popups with event details
- No persistent labels or titles on markers
- No navigation to event details from map interactions

## Technical Solution
Implement interactive map markers with:
1. Event title labels displayed on markers
2. Enhanced popup with event preview and "Learn More" button
3. Navigation integration to event details page

### Implementation Requirements

#### 1. Add Event Title Labels to Markers
- Create symbol layer for event titles
- Position labels above markers
- Style labels for readability (size, color, background)
- Handle label overlap and clustering scenarios

#### 2. Enhanced Event Preview Popup
- Replace basic HTML popup with React component
- Include event image, description preview, date/time, location
- Add "Learn More" button with proper styling
- Implement responsive design for mobile and desktop

#### 3. Navigation Integration
- Add React Router navigation to event details page
- Handle popup state management during navigation
- Ensure smooth transition between map and event details

#### 4. User Experience Improvements
- Add hover effects on markers
- Implement smooth popup animations
- Add loading states for popup content
- Handle edge cases (missing data, network errors)

## Implementation Phases

### Phase 1: Marker Labels
1. Add symbol layer for event titles to MapboxMap component
2. Configure label positioning and styling
3. Test label visibility at different zoom levels
4. Handle label collisions and clustering

### Phase 2: Enhanced Popup Component
1. Create EventPreviewPopup component
2. Design responsive layout with event details
3. Add "Learn More" button with navigation
4. Integrate with existing popup system

### Phase 3: Navigation and UX
1. Implement React Router navigation from popup
2. Add loading states and error handling
3. Test navigation flow on mobile and desktop
4. Add hover effects and animations

### Phase 4: Testing and Polish
1. Test on various screen sizes and devices
2. Verify accessibility (keyboard navigation, screen readers)
3. Performance testing with large numbers of markers
4. Add error boundaries and fallback states

## Files to Modify
- `ui/src/components/MapboxMap.tsx` - Add marker labels and enhanced popup
- `ui/src/components/EventPreviewPopup.tsx` - New component for event preview (if needed)
- `ui/src/lib/api-client.ts` - May need additional event data fields

## Expected Outcome
- Map markers display event titles for easy identification
- Clicking markers shows rich event preview with key information
- "Learn More" button navigates to full event details page
- Smooth, responsive user experience across all devices
- Improved discoverability of events on the map

## Technical Considerations
- Mapbox GL JS symbol layer limitations
- Performance with large numbers of labeled markers
- Mobile touch interactions vs desktop hover
- State management between map and route navigation
- Accessibility compliance for interactive elements

## Success Criteria
- ✅ Users can identify events by title on the map
- ✅ Clicking markers shows event preview popup
- ✅ "Learn More" button navigates to event details
- ✅ Responsive design works on mobile and desktop
- ✅ Performance remains smooth with 100+ markers
- ✅ Accessibility features work with keyboard and screen readers
