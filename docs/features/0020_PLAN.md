# Calendar View UI/UX Improvements

## Brief Description
Refactor the calendar view to improve user experience by removing unnecessary UI elements, fixing positioning bugs, enhancing navigation with arrow buttons, implementing event limits with proper fallback location handling, and streamlining the interface for better usability.

## Technical Implementation Plan

### Phase 1: Core Calendar Modifications

#### Remove Unnecessary UI Elements
- **LocationStatus Component Removal**: Remove `<LocationStatus />` from `CalendarView.tsx` (line 114) to eliminate the location granted reminder panel
- **Duplicate Day View Removal**: Remove the entire right column section in `CalendarView.tsx` (lines 169-188) that shows `CalendarEventList` below the calendar - this creates a duplicate of the popup day view and includes the "Select a Date" panel
- **Statistics Section Removal**: Remove the metrics/statistics card section in `CalendarView.tsx` (lines 191-217) that displays total events, days with events, etc.

#### Navigation Button Updates
- **Arrow Button Replacement**: Replace "← Previous" and "Next →" text buttons in `CalendarView.tsx` (lines 136-150) with Lucide React arrow icons:
  - Use `ChevronLeft` icon for previous month
  - Use `ChevronRight` icon for next month
  - Maintain existing button functionality and styling

#### Day View UI Cleanup
- **Popup Close Button Removal**: Remove the "Close" button from the footer of `CalendarEventPopup.tsx` (lines 144-146)
- **Reminder Text Removal**: Remove the reminder text "Click an event to view details" from `CalendarEventPopup.tsx` (lines 141-143)

### Phase 2: Event Limiting and Location Handling

#### Event Count Implementation
- **Update Event Limit**: Modify `useCalendarEvents.ts` to fetch 200 events instead of 90 (line 37: change `range` parameter from 90 to 200)
- **Display Event Count**: Add a text indicator under the calendar grid in `CalendarView.tsx` showing "Showing nearest 200 events" (position after the calendar grid, before the statistics section)

#### Location Fallback Enhancement
- **Derry NH Default Location**: Update `DEFAULT_LAT` and `DEFAULT_LNG` in `useCalendarEvents.ts` (lines 18-19) to Derry NH coordinates:
  - Latitude: 42.8864
  - Longitude: -71.3247
- **Location Permission Overlay**: Create a new component for location permission prompt that appears as an overlay/button when location is denied or not granted, positioned prominently near the calendar

### Phase 3: Bug Fixes and Positioning

#### Day View Positioning Bug Fix
- **Popup Z-Index Adjustment**: Increase z-index of `CalendarEventPopup.tsx` overlay (line 50) from `z-50` to `z-[100]` to ensure it appears above the calendar
- **Calendar Grid Container Fix**: Ensure the calendar grid container in `CalendarView.tsx` (lines 155-167) doesn't have positioning conflicts that could cause the popup to appear underneath

#### Responsive Layout Adjustments
- **Grid Layout Optimization**: Remove the 2-column grid layout in `CalendarView.tsx` (line 154) and simplify to single column since the duplicate day view right column is being removed - change from `grid-cols-1 lg:grid-cols-3` to just `grid-cols-1`
- **Mobile Responsiveness**: Verify that the simplified single-column layout works well on mobile devices

### Files to Modify

1. **ui/src/routes/CalendarView.tsx**
   - Remove LocationStatus component
   - Remove duplicate day view (CalendarEventList right column)
   - Remove statistics section
   - Replace Previous/Next buttons with arrow icons
   - Add "Showing nearest 200 events" text
   - Simplify grid layout from 2-column to single column

2. **ui/src/components/CalendarEventPopup.tsx**
   - Remove close button from footer
   - Remove reminder text
   - Increase z-index for proper layering

3. **ui/src/hooks/useCalendarEvents.ts**
   - Change range from 90 to 200
   - Update default coordinates to Derry NH

### New Components Required

1. **LocationPermissionOverlay.tsx** - New component for location permission prompt overlay that appears when location is not granted

### Dependencies
- Add `ChevronLeft` and `ChevronRight` icons from Lucide React to existing imports
- No new packages required

### Testing Considerations
- Verify popup appears above calendar on all screen sizes
- Test location fallback to Derry NH when location is denied
- Confirm arrow navigation works correctly
- Ensure event limiting displays correctly
- Test mobile responsiveness after UI element removal
