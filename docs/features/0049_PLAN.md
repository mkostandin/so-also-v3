# Fix Filter Positioning - Make Filters Fixed Instead of Sticky

## Brief Description
The event type and committee type filters are currently positioned as sticky elements that scroll away when the user scrolls down. The user wants these filters to remain fixed in their current position, specifically positioned 8px below the separator after the view switch tabs at the top.

## ✅ COMPLETED CHANGES

### Phase 1: Move Filters to Global Level - ✅ DONE
1. **MapIndex.tsx**: ✅ Added EventTypeFilter and CommitteeFilter components
   - ✅ Imported EventTypeFilter and CommitteeFilter components
   - ✅ Added fixed positioning container for filters at `top-[72px]` (8px below header)
   - ✅ Used fixed positioning with proper z-index (z-40)
   - ✅ Connected to FilterContext for state management

2. **ListView.tsx**: ✅ Removed sticky filter container
   - ✅ Removed the sticky div containing EventTypeFilter and CommitteeFilter
   - ✅ Repositioned LocationPermissionBanner to `top-[80px]` to account for global filters
   - ✅ Maintained proper spacing in denied permission state

3. **CalendarView.tsx**: ✅ Removed sticky filter container
   - ✅ Removed EventTypeFilter and CommitteeFilter from main view
   - ✅ Kept DistanceFilter as view-specific with proper positioning at `top-[130px]`
   - ✅ Fixed skeleton loading state to prevent layout jumping

4. **MapView.tsx**: ✅ Removed filter container
   - ✅ Removed the flex-shrink-0 div containing filters
   - ✅ Adjusted height calculation from `calc(100vh-120px)` to `calc(100vh-180px)`
   - ✅ Added `mt-8` for proper spacing below global filters

### Phase 2: Implement Fixed Positioning - ✅ DONE
1. **Positioning**: ✅ Used `fixed` positioning with `top-[72px]`
2. **Top offset**: ✅ Positioned exactly 8px below header tabs
3. **Z-index**: ✅ Proper layering (header z-50, filters z-40, content z-0)
4. **Responsive**: ✅ Maintained max-width constraints with responsive breakpoints

### Phase 3: Layout Adjustments - ✅ DONE
1. **Content spacing**: ✅ Added `pt-[80px]` to main content area to prevent overlap
2. **Mobile responsiveness**: ✅ Filters work properly on mobile devices
3. **Dark mode support**: ✅ Maintained existing dark mode styling
4. **Additional fixes**:
   - ✅ Removed separator/border from fixed filters
   - ✅ Fixed calendar skeleton loading with proper proportions
   - ✅ Adjusted map positioning with `mt-8` for 32px spacing
   - ✅ Cleaned up unused imports and variables

## Technical Details
- ✅ Filters remain accessible to all three views (map, list, calendar)
- ✅ Filter state management through FilterContext remains unchanged
- ✅ No changes to filter functionality or data flow required
- ✅ Location permission banner properly repositioned in ListView
- ✅ Calendar skeleton loading improved with accurate proportions and spacing

## Files Modified
- ✅ `ui/src/routes/MapIndex.tsx` - Added global fixed filters
- ✅ `ui/src/routes/ListView.tsx` - Removed sticky filters, repositioned banners
- ✅ `ui/src/routes/CalendarView.tsx` - Removed sticky filters, improved skeleton
- ✅ `ui/src/routes/MapView.tsx` - Removed filter container, adjusted height

## Testing Results
- ✅ Filters remain visible and fixed when scrolling in all views
- ✅ No overlap with scrollable content
- ✅ Proper positioning on mobile devices
- ✅ Dark mode styling maintained
- ✅ Filter functionality remains intact
- ✅ Smooth transitions and proper spacing
